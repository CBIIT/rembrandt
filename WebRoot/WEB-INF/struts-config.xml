<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
	
    <!-- ========== Data Source Configuration ============================== -->
    <data-sources />
    <!-- ========== Form Bean Definitions ================================== -->
    <form-beans>
    	<form-bean name="reportGeneratorForm" type="gov.nih.nci.rembrandt.web.struts.form.ReportGeneratorForm"/>
        <form-bean name="geneexpressionForm" type="gov.nih.nci.rembrandt.web.struts.form.GeneExpressionForm"/>
        <form-bean name="comparitivegenomicForm" type="gov.nih.nci.rembrandt.web.struts.form.ComparativeGenomicForm"/>
        <form-bean name="clinicaldataForm" type="gov.nih.nci.rembrandt.web.struts.form.ClinicalDataForm"/>
    	<form-bean name="refineQueryForm" type="gov.nih.nci.rembrandt.web.struts.form.RefineQueryForm"/>
        <form-bean name="selectPresentationForm" type="gov.nih.nci.nautilus.ui.struts.form.SelectPresentationForm"/>
        <form-bean name="deleteQueryForm" type="gov.nih.nci.rembrandt.web.struts.form.DeleteQueryForm"/>
        <form-bean name="quickSearchForm" type="gov.nih.nci.rembrandt.web.struts.form.QuickSearchForm"/>
        <form-bean name="loginForm" type="gov.nih.nci.rembrandt.web.struts.form.LoginForm"/>
   		<form-bean name="kmDataSetForm" type="gov.nih.nci.rembrandt.web.struts.form.KMDataSetForm"/>
   		<form-bean name="reportActionForm" type="gov.nih.nci.rembrandt.web.struts.form.BaseForm"/>
   		<form-bean name="viewResultsForm" type="gov.nih.nci.rembrandt.web.struts.form.ViewResultsForm"/>
   		<form-bean name="classComparisonForm" type="gov.nih.nci.rembrandt.web.struts.form.ClassComparisonForm"/>
		<form-bean name="principalComponentForm" type="gov.nih.nci.rembrandt.web.struts.form.PrincipalComponentForm"/>
		<form-bean name="userPreferencesBean" type="gov.nih.nci.rembrandt.web.struts.bean.UserPreferencesBean"/>				
		<form-bean name="hierarchicalClusteringForm" type="gov.nih.nci.rembrandt.web.struts.form.HierarchicalClusteringForm"/>
		<form-bean name="uploadGeneSetForm" type="gov.nih.nci.rembrandt.web.struts.form.UploadGeneSetForm"/>				
		<form-bean name="uploadReporterSetForm" type="gov.nih.nci.rembrandt.web.struts.form.UploadReporterSetForm"/>	
		<form-bean name="gpIntegrationForm" type="gov.nih.nci.rembrandt.web.struts.form.GpIntegrationForm"/>
   		<form-bean name="gpProcessForm" type="gov.nih.nci.rembrandt.web.struts.form.GpProcessForm"/>	
		
		<form-bean name="logoutForm" type="gov.nih.nci.rembrandt.web.struts.form.LogoutForm"/>
   	
  </form-beans>
  <!-- ========== Global Exception Definitions ============================ -->
  <global-exceptions />
  <!-- ========== Global Forward Definitions ============================== -->
  <global-forwards>
    <forward name="logoff" path="/logoff.do"/>
    <forward name="logon" path="/logon.jsp"/>
    <forward name="success" path="/mainMenu.jsp"/>
  </global-forwards>
    
    <!-- ========== Action Mapping Definitions ============================ -->
    
  <action-mappings>
  
	<action path="/manageLists" forward="nautilus.manageLists" />
  	<action path="/registration" forward="registration" />
  	
  	<action path="/analysisHome"
		type="gov.nih.nci.rembrandt.web.struts.action.DoFirst"
		parameter="method">
		<forward name="success" path="nautilus.analysisHome" />
	</action>
  
    <action path="/delete_Query"            
            name="deleteQueryForm"
            type="gov.nih.nci.rembrandt.web.struts.action.DeleteQueryAction"
            scope="request"
			parameter="method"
            validate="false">         
		 <forward name="menuPage" path="nautilus.menu" />
		 <forward name="cghPage" path="nautilus.comparitiveGenomic" />
		 <forward name="clinicalPage" path="nautilus.clinical" />
		 <forward name="editClinical" path="/editClinical.do" />
		 <forward name="editCGH" path="/editCGH.do" />
		 <forward name="editGE" path="/editGE.do" />
	</action>
	
	<action path="/editClinical"
		type="gov.nih.nci.rembrandt.web.struts.action.EditClinicalDataAction"
 		attribute="clinicaldataForm"
        scope="request"
        validate="false">
         <forward name="goEditClinical" path="nautilus.clinical" />
    </action>

	<action path="/editCGH"
		type="gov.nih.nci.rembrandt.web.struts.action.EditCGHAction"
 		attribute="comparitivegenomicForm"
        scope="request"
        validate="false">
         <forward name="goEditCGH" path="nautilus.comparitiveGenomic" />
    </action>


	<action path="/editGE"
		type="gov.nih.nci.rembrandt.web.struts.action.EditGEAction"
 		attribute="geneexpressionForm"
        scope="request"
        validate="false">
         <forward name="goEditGE" path="nautilus.geneExpression" />
    </action>

	
	<action path="/quickSearch"            
            name="quickSearchForm"
            type="gov.nih.nci.rembrandt.web.struts.action.QuickSearchAction"
            scope="request"
			input="nautilus.home"
            validate="true"
            parameter="method">         
		 <forward name="histogram" path="/graph.do" />
 		 <forward name="mismatch" path="nautilus.home" />
  		 <forward name="badgraph" path="/home.do" />
		 <forward name="kmplot" path="/kmGraph.do?method=doKMPlot" />
	</action>
	
	<action path="/kmGraph"            
            name="kmDataSetForm"
            type="gov.nih.nci.rembrandt.web.struts.action.QuickSearchAction"
            scope="request"
			validate="false"
            parameter="method">         
		 <forward name="kmplot" path="nautilus.KMGraph" />
         <forward name="badgraph" path="/home.do" />
	</action>
   
   <action path="/quickClinical" forward="/jsp/quickClinical.jsp" />
   
   <action path="/graph"
           forward="nautilus.graph" />
           
   <action path="/popGraph"
           forward="popGraph" />     
           
   <action path="/login"
           type="org.springframework.web.struts.DelegatingActionProxy"
           name="loginForm"
           scope="request"
           input="/login.jsp">
    <forward name="success" path="/legal.jsp"/>
    <forward name="failure" path="/error.jsp"/>
    </action>
    
    <action path="/alogin"
           type="gov.nih.nci.rembrandt.web.struts.action.LoginAction"
           name="loginForm"
           scope="request"
           input="registration">
    <forward name="success" path="/legal.jsp"/>
    <forward name="failure" path="/error.jsp"/>
    </action>
    
    <action path="/logoutPage"
    		forward="nautilus.logout" />
    
    <action path="/logout"
           type="gov.nih.nci.rembrandt.web.struts.action.LogoutAction"
           name="logoutForm"
           scope="request"
           input="nautilus.logout">
    <forward name="logout" path="/login.jsp"/>
    <forward name="dontLogout" path="/viewResults.do"/>
    
    </action>
    
    <action path="/uploadGeneSet"
		type="gov.nih.nci.rembrandt.web.struts.action.UploadGeneSetAction"
		name="uploadGeneSetForm"
		scope="request"
		input="/jsp/uploadGeneSet.jsp"
		validate="true">
		<forward name="success" path="/jsp/uploadThankYou.jsp" />
		<forward name="backToUpload" path="/jsp/uploadGeneSet.jsp" />
	</action>
	
	<action path="/uploadReporterSet"
		type="gov.nih.nci.rembrandt.web.struts.action.UploadReporterSetAction"
		name="uploadReporterSetForm"
		scope="request"
		input="/jsp/uploadReporterSet.jsp"
		validate="true">
		<forward name="success" path="/jsp/uploadThankYou.jsp" />
		<forward name="backToUpload" path="/jsp/uploadReporterSet.jsp" />
	</action>

    <action path="/geneExpression"
    		forward="nautilus.geneExpression" />

	<action path="/geneexpression"
            input="nautilus.geneExpression"
            name="geneexpressionForm"
            type="gov.nih.nci.rembrandt.web.struts.action.GeneExpressionAction"
            scope="request"
            parameter="method"
            validate="true">
         <forward name="advanceSearchMenu" path="nautilus.menu" />
         <forward name="previewReport" path="/previewGeneReport.do?method=previewReport"/>
         <forward name="backToGeneExp" path="nautilus.geneExpression" />
         <forward name="showAllGenes" path="nautilus.allGenesGE" />
	</action>
	
	<action path="/classComparison"
         forward="nautilus.classComparison" />
         
    <action path="/classcomparisonInit"    	    
	    type="gov.nih.nci.rembrandt.web.struts.action.ClassComparisonAction"
		name="classComparisonForm"
		scope="request"
		validate="false"
		parameter="method">
		<forward name="backToClassComparison" path="nautilus.classComparison" />
		<forward name="classComparisonSetup" path="/classcomparisonInit.do?method=setup" />
	</action>
	
	<action path="/classcomparison"
	    input="/classcomparisonInit.do?method=setup"
		type="gov.nih.nci.rembrandt.web.struts.action.ClassComparisonAction"
		name="classComparisonForm"
		scope="request"
		validate="true"
		parameter="method">
		<forward name="backToClassComparison" path="nautilus.classComparison" />
		<forward name="classComparisonSetup" path="/classcomparisonInit.do?method=setup" />
		<forward name="viewResults" path="/viewResults.do" />
	</action>
	
	
	<action path="/principalComponent"
         forward="nautilus.principalComponent" />
         
    <action path="/principalcomponentInit"
		type="gov.nih.nci.rembrandt.web.struts.action.PrincipalComponentAction"
		name="principalComponentForm"
		scope="request"
		validate="false"
		parameter="method">
		<forward name="backToPrincipalComponent" path="nautilus.principalComponent" />
		<forward name="principalComponentSetup" path="/principalcomponentInit.do?method=setup" />
	</action>
	
	<action path="/principalcomponent"
	    input="/principalcomponentInit.do?method=setup"
		type="gov.nih.nci.rembrandt.web.struts.action.PrincipalComponentAction"
		name="principalComponentForm"
		scope="request"
		validate="true"
		parameter="method">
		<forward name="backToPrincipalComponent" path="nautilus.principalComponent" />
		<forward name="principalComponentSetup" path="/principalcomponentInit.do?method=setup" />
		<forward name="viewResults" path="/viewResults.do" />
	</action>

   <action path="/gpintegrationInit"
		type="gov.nih.nci.rembrandt.web.struts.action.GPIntegrationAction"
		name="gpIntegrationForm"
		scope="request"
		validate="false"
		parameter="method">
		<forward name="success" path="rembrandt.gpIntegration" />
	</action>
		
	
	<action path="/gpintegration"
		input="rembrandt.gpIntegration"
		type="gov.nih.nci.rembrandt.web.struts.action.GPIntegrationAction"
		name="gpIntegrationForm"
		scope="request"
		validate="true"
		parameter="method">
		<forward name="success" path="rembrandt.gpIntegration" />
		<!-- forward name="viewJob" path="rembrandt.gpJobView" / -->
		<forward name="viewJob" path="/gpProcess.do?method=setup" />
	</action>
	<action path="/gpProcess"
		input="rembrandt.gpJobView"
		type="gov.nih.nci.rembrandt.web.struts.action.GPProcessAction"
		name="gpProcessForm"
		scope="request"
		validate="false"
		parameter="method">
		<forward name="success" path="rembrandt.gpJobView" />
		<forward name="appletViewer" path="/gpApplet.do" />
	</action>
	
	<action path="/gpApplet"
         forward="/Applets/gp/gpApplet.jsp" />
         
	<action path="/hierarchicalClustering"
         forward="nautilus.hierarchicalClustering" />
	
	<action path="/hierarchicalclustering"
	    input="nautilus.hierarchicalClustering"
		type="gov.nih.nci.rembrandt.web.struts.action.HierarchicalClusteringAction"
		name="hierarchicalClusteringForm"
		scope="request"
		validate="true"
		parameter="method">
		<forward name="backToHierarchicalClustering" path="nautilus.hierarchicalClustering" />
		<forward name="hierarchicalClusteringSetup" path="/hierarchicalclustering.do?method=setup" />
		<forward name="viewResults" path="/viewResults.do" />
	</action>
	
	<action path="/hierarchicalclusteringInit"
		type="gov.nih.nci.rembrandt.web.struts.action.HierarchicalClusteringAction"
		name="hierarchicalClusteringForm"
		scope="request"
		validate="false"
		parameter="method">
		<forward name="backToHierarchicalClustering" path="nautilus.hierarchicalClustering" />
		<forward name="hierarchicalClusteringSetup" path="/hierarchicalclustering.do?method=setup" />
	</action>
	

  

	<action path="/previewGeneReport"
            forward="/previewgenereport.do" />

	<action path="/previewgenereport"
            name="geneexpressionForm"
            type="gov.nih.nci.rembrandt.web.struts.action.ReportGeneratorAction"
            scope="request"
            parameter="method"
            validate="false">
         <forward name="failure" path="/menu.do" /> 
         <forward name="backToGeneExp" path="nautilus.geneExpression" />
    </action>
    
	<action path="/previewCGReport"
            forward="/previewcgreport.do" />

	<action path="/previewcgreport"
            name="comparitivegenomicForm"
            type="gov.nih.nci.rembrandt.web.struts.action.ReportGeneratorAction"
            scope="request"
            parameter="method"
            validate="false">
         <forward name="failure" path="/menu.do" /> 
         <forward name="backToCGH" path="nautilus.comparitiveGenomic" />
	</action>
	
	
		
    <action path="/comparitiveGenomic"
            forward="nautilus.comparitiveGenomic" />

	<action path="/comparitivegenomic"
            input="nautilus.comparitiveGenomic"
            name="comparitivegenomicForm"
            type="gov.nih.nci.rembrandt.web.struts.action.ComparativeGenomicAction"
            scope="request"
            parameter="method"
            validate="true">
         <forward name="advanceSearchMenu" path="nautilus.menu" />
         <forward name="previewReport" path="/previewCGReport.do?method=previewReport"/>
         <forward name="backToCGH" path="nautilus.comparitiveGenomic" />
         <forward name="showAllGenes" path="nautilus.allGenesCGH" />
	</action>
	
	<action  path="/clinicalData"
              forward="nautilus.clinical" />

	<action path="/clinical"
            input="nautilus.clinical"
            name="clinicaldataForm"
            type="gov.nih.nci.rembrandt.web.struts.action.ClinicalDataAction"
            scope="request"
            parameter="method"
            validate="true">
         <forward name="advanceSearchMenu" path="nautilus.menu" />
         <forward name="previewReport" path="/previewClinicalReport.do?method=previewReport"/>
         <forward name="backToClinical" path="nautilus.clinical" />
	</action>

	<action path="/menu"
		forward="nautilus.menu" />
	
	
	<action path="/testReport"
		type="gov.nih.nci.rembrandt.web.struts.action.DoFirst"
		name="noForm">
		<forward name="success" path="/jsp/testReport.jsp" />
	</action>
	
	<action path="/pcaReport"
		type="gov.nih.nci.rembrandt.web.struts.action.DoFirst"
		name="noForm">
		<forward name="success" path="/jsp/pcaReport.jsp" />
	</action>
	
	<action path="/clinicalViaKMReport"
		type="gov.nih.nci.rembrandt.web.struts.action.DoFirst"
		name="noForm">
		<forward name="success" path="/jsp/clinicalViaKMReport.jsp" />
	</action>
	
	<action path="/clinicalPlots"
		type="gov.nih.nci.rembrandt.web.struts.action.DoFirst"
		name="noForm">
		<forward name="success" path="/jsp/clinicalPlots.jsp" />
	</action>
	
	<action path="/hcReport"
		type="gov.nih.nci.rembrandt.web.struts.action.DoFirst"
		name="noForm">
		<forward name="success" path="/jsp/hcReport.jsp" />
	</action>
	
	<action path="/homeAdvanced"
		type="gov.nih.nci.rembrandt.web.struts.action.DoFirst"
		name="noForm">
		<forward name="success" path="nautilus.homeAdvanced" />
	</action>
	
	<action path="/previewClinicalReport"
            forward="/previewclinicalreport.do" />

	<action path="/previewclinicalreport"
            name="clinicaldataForm"
            type="gov.nih.nci.rembrandt.web.struts.action.ReportGeneratorAction"
            scope="request"
            parameter="method"
            validate="false">
         <forward name="failure" path="/menu.do" /> 
         <forward name="backToClinical" path="nautilus.clinical" />
	</action>

	<action path="/home"
		type="gov.nih.nci.rembrandt.web.struts.action.DoFirst"
		parameter="method">
		<forward name="success" path="nautilus.home" />
	</action>

   <action path="/refinecheck"
	       type="gov.nih.nci.rembrandt.web.struts.action.RefineCheckAction">
         <forward name="success" path="/refine.do" />
         <forward name="failure" path="/menu.do" />
   </action>
	<!-- Tile Action Mapping-->
   <action path="/refine"
      	   forward="nautilus.refine" />

	<action path="/refineQuery"
            input="nautilus.refine"
            name="refineQueryForm"
            type="gov.nih.nci.rembrandt.web.struts.action.RefineQueryAction"
            scope="request"
            parameter="method"
            validate="true">
         <forward name="success" path="/runReport.do?method=runGeneViewReport"/>
         <forward name="displayQuery" path="nautilus.refine" />
         <forward name="advanceSearchMenu" path="nautilus.menu" />
         <forward name="failure" path="/refine.do" />
	</action>
	
	<action path="/runCompoundQuery"
            type="gov.nih.nci.rembrandt.web.struts.action.ReportGeneratorAction"
            scope="request"
            parameter="method">
         <forward name="success" path="/runReport.do?method=runGeneViewReport"/>
         <forward name="failure" path="/refine.do" />
	</action>	
	
	<action path="/viewResults"
	    input="nautilus.viewResults"
		type="gov.nih.nci.rembrandt.web.struts.action.ViewResultsAction"
		name="viewResultsForm"
		scope="request">
		<forward name="success" path="nautilus.viewResults" />
	</action>
	
	<action path="/fileDownload"
		type="gov.nih.nci.rembrandt.web.struts.action.FileDownloadAction"
		parameter="method"
		scope="request">
		<forward name="success" path="nautilus.viewResults" />
	</action>
	
	<action path="/runReport"
           name="reportGeneratorForm"
	       type="gov.nih.nci.rembrandt.web.struts.action.ReportGeneratorAction"
	       scope="request"
           parameter="method"
           validate="false">
         <forward name="runGeneViewReport" path="/jsp/geneViewReport.jsp" />
         <forward name="runCSVGeneViewReport" path="/jsp/geneViewReportCSV.jsp" />
    </action>
	<action path="/browseKeggPathway"
            type="gov.nih.nci.rembrandt.web.struts.action.BrowseKeggPathwayAction">
         <forward name="success" path="/jsp/browseKeggPathway.jsp" /> 
	</action>
 </action-mappings>
    
    <!-- ========== Controller Configuration =============================== -->
    <controller />
    <!-- ========== Message Resources Definitions ========================== -->
    <message-resources parameter="ApplicationResources" />
    <!-- ========== Plug Ins Configuration ================================= -->
	 <plug-in className="org.apache.struts.tiles.TilesPlugin" >
	   <set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />
	   <set-property property="definitions-parser-validate" value="true" />
	   <set-property property="definitions-debug" value="2" />
	   <set-property property="definitions-parser-details" value="2" />
	   <set-property property="moduleAware" value="true" />
	 </plug-in>
</struts-config>

